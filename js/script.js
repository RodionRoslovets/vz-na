(()=>{"use strict";var e,t,r,n,a=100,c=1;function o(e,t){t.innerHTML="",e.innerHTML=""}function u(e,t){var r=document.createElement("td");r.classList.add("parameters-table__header-item"),r.classList.add("parameters-table__item"),r.innerHTML=t,e.append(r)}function i(e,t){var r=document.createElement("td");r.classList.add("parameters-table__item"),r.innerHTML=t,e.append(r)}function s(r){console.log(r);var n=this;n.parentNode.querySelectorAll(".open").forEach((function(e){e.classList.remove("open")})),n.classList.add("open"),c=n.value,o(t,e),l()}function l(t){var n,o=(n=a*(c-1),B().slice(0+n,a+n));if(o.length>0){var l=document.createElement("table");l.classList.add("parameters-table__table"),e.append(l);var f=document.createElement("thead"),d=document.createElement("tr");d.classList.add("parameters-table__header-row"),u(d,"№");for(var p=t?o[0].length:o[0].length+1,m=1;m<p;m++)u(d,"p".concat(m));t&&u(d,"Q"),f.append(d),l.append(f);var v=document.createElement("tbody"),h=a*(c-1)+1;o.forEach((function(e,t){var r=document.createElement("tr");r.classList.add("parameters-table__row"),i(r,h+t),e.forEach((function(e,t){i(r,e)})),v.append(r)})),l.append(v);var g=e.parentNode,L=g.querySelector(".js_result-table-pagination"),_=g.querySelector(".js_this-page-info");if(L.innerHTML="",_.innerHTML="",r>1){for(var b=0;b<r;b++){var y=document.createElement("button");y.classList.add("result-table__pagination-item"),y.value=b+1,y.innerHTML=y.value,L.append(y),y.addEventListener("click",s)}_.innerHTML="Текущая страница ".concat(c," из ").concat(r)}}}function f(e){n=e}var d=[];function p(e){switch(e){case">":return 1;case"<":return 2;case">=":return 3;case"<=":return 4;default:return-1}}function m(e,t,r){switch(t){case 1:return e>r;case 2:return e<r;case 3:return e>=r;case 4:return e<=r}}var v=!0,h=[];function g(){return v}var L,_,b,y=3,S=1,E=.2,q=[],M=[],j=function(e){return e.toString().includes(".")?e.toString().split(".").pop().length:0};function H(e){return y=e.querySelector(".js_parametrs-number-input").value,E=e.querySelector(".js_parametrs-step-input").value,b=S/E,Number.isInteger(b)?function(e){if(d=[],e){e=e.split(", ");for(var t=0;t<e.length;t++){var r=e[t].split(" ");if(3!=r.length)return!1;for(var n=r[0].split(","),a=p(r[1]),c=r[2].split(","),o=0;o<n.length;o++)for(var u=0;u<c.length;u++){if(!(a&&n[o]>0&&c[u]>0))return!1;d.push([n[o]-1,a,c[u]-1])}}}return!0}(e.querySelector(".js_parametrs-filter-input").value)?!!function(e,t){if(v=!0,e){if((h=e.split(", ")).length!=t)return!1;for(var r=0;r<h.length;r++)if(!isFinite(h[r]))return!1}else v=!1;return!0}(e.querySelector(".js_parametrs-grade-input").value,y)||(n.innerHTML+="Введите пожалуйста корректную строку для вычисления оценки",!1):(n.innerHTML+="Введите пожалуйста корректную строку для фильтрации",!1):(function(e){n.innerHTML+="Введите пожалуйста шаг, которому кратна сумма ряда равная: ".concat(e)}(S),!1)}function T(e){var t=e.slice(0);(function(e){for(var t=M.length-1;t>=0;t--){var r=M[t].slice(0);if(r[0]!=e[0])return!0;for(var n=1,a=1;a<r.length;a++)r[a]==e[a]&&n++;if(n==r.length)return!1}return!0})(t)&&(M.push(t),function(e){for(var t=0;t<d.length;t++)if(!m(e[d[t][0]],d[t][1],e[d[t][2]]))return!1;return!0}(t)&&(g()&&(t=function(e){var t=e.slice(0);return t.push(function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]*h[r];return t}(t)),t}(t)),t=function(e){return e.map((function(e){return e/_}))}(t),q.push(t)))}function N(e,t){var r=e.slice(0);return r[0]-=E,r[t]+=E,r}function k(e,t){var r=e.slice(0);return r[0]+=E,r[t]-=E,r}function w(){var e;(e=j(E))<j(S)&&(e=j(S)),L=e,_=Math.pow(10,L),S*=_,E*=_;for(var t=[],r=0;r<y;r++)t[r]=0;t[0]=S,q=[],M=[],T(t)}function A(){w();for(var e=0;e<b;e++){console.log("проход генерации: ".concat(e+1," из ").concat(b,", \n\t\tколичество элементов массива генерации на этом этапе: ").concat(M.length));for(var t=M.length,n=0;n<t;n++){var o=M.shift();if(!(o[0]<=0))for(var u=1;u<o.length;u++)T(o=N(o,u)),o=k(o,u)}}S/=_,E/=_,function(e){!function(e){r=Math.ceil(e.length/a)}(B()),c=1,l(e),document.querySelector(".js_result-block").style.display="block"}(g())}function B(){return q}var D=document.querySelector(".js_parameters-form"),F=document.querySelector(".js_parameters-table"),I=document.querySelector(".js_errno-field");function Q(e){var t=this,r=t.dataset.menuName;t.parentNode.querySelector(".active").classList.remove("active");var n=t.parentNode.parentNode;n.querySelector(".active").classList.remove("active"),n.querySelector("[data-menu-name=".concat(r,"]:not(.js_result-menu-button)")).classList.add("active"),t.classList.add("active")}D.addEventListener("submit",(function(r){r.preventDefault(),function(r,n,a){o(n,a),function(t){e=t}(a),function(e){t=e}(n),f(n),performance.mark("начало"),H(r)&&(document.body.classList.add("calculate"),A(),document.body.classList.remove("calculate")),performance.mark("конец"),performance.measure("итого","начало","конец"),console.log(performance.getEntriesByName("итого")[0].duration),performance.clearMeasures(),performance.clearMarks()}(this,I,F)})),document.querySelectorAll(".js_result-menu-button").forEach((function(e){e.addEventListener("click",Q)}))})();