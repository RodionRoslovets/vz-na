(()=>{"use strict";var e,r;function t(e,r){var t=document.createElement("td");t.classList.add("parameters-table__header-item"),t.classList.add("parameters-table__item"),t.innerHTML=r,e.append(t)}function n(e,r){var t=document.createElement("td");t.classList.add("parameters-table__item"),t.innerHTML=r,e.append(t)}function a(e){r=e}var u=[];function c(e){switch(e){case">":return 1;case"<":return 2;case">=":return 3;case"<=":return 4;default:return-1}}function i(e,r,t){switch(r){case 1:return e>t;case 2:return e<t;case 3:return e>=t;case 4:return e<=t}}var o=!0,s=[];function l(){return o}var f,p,m=3,d=1,v=.2,h=[],g=[],_=function(e){return e.toString().includes(".")?e.toString().split(".").pop().length:0};function L(e){return m=e.querySelector(".js_parametrs-number-input").value,v=e.querySelector(".js_parametrs-step-input").value,p=d/v,Number.isInteger(p)?function(e){if(u=[],e){e=e.split(", ");for(var r=0;r<e.length;r++){var t=e[r].split(" ");if(3!=t.length)return!1;for(var n=t[0].split(","),a=c(t[1]),i=t[2].split(","),o=0;o<n.length;o++)for(var s=0;s<i.length;s++){if(!(a&&n[o]>0&&i[s]>0))return!1;u.push([n[o]-1,a,i[s]-1])}}}return!0}(e.querySelector(".js_parametrs-filter-input").value)?!!function(e,r){if(o=!0,e){if((s=e.split(", ")).length!=r)return!1;for(var t=0;t<s.length;t++)if(!isFinite(s[t]))return!1}else o=!1;return!0}(e.querySelector(".js_parametrs-grade-input").value,m)||(r.innerHTML+="Введите пожалуйста корректную строку для вычисления оценки",!1):(r.innerHTML+="Введите пожалуйста корректную строку для фильтрации",!1):(function(e){r.innerHTML+="Введите пожалуйста шаг, которому кратна сумма ряда равная: ".concat(e)}(d),!1)}function b(e){var r=e.slice(0);(function(e){for(var r=g.length-1;r>=0;r--){var t=g[r].slice(0);if(t[0]!=e[0])return!0;for(var n=1,a=1;a<t.length;a++)t[a]==e[a]&&n++;if(n==t.length)return!1}return!0})(r)&&(g.push(r),function(e){for(var r=0;r<u.length;r++)if(!i(e[u[r][0]],u[r][1],e[u[r][2]]))return!1;return!0}(r)&&(l()&&(r=function(e){var r=e.slice(0);return r.push(function(e){for(var r=0,t=0;t<e.length;t++)r+=e[t]*s[t];return r}(r)),r}(r)),r=function(e){return e.map((function(e){return e/Math.pow(10,f)}))}(r),h.push(r)))}function M(e,r){var t=e.slice(0);return t[0]-=v,t[r]+=v,t}function y(e,r){var t=e.slice(0);return t[0]+=v,t[r]-=v,t}function E(){var e;(e=_(v))<_(d)&&(e=_(d)),f=e,d*=Math.pow(10,f),v*=Math.pow(10,f);for(var r=[],t=0;t<m;t++)r[t]=0;r[0]=d,h=[],g=[],b(r)}function w(){E();for(var r=0;r<p;r++)for(var a=0;a<g.length;a++){var u=g.shift();if(!(u[0]<=0))for(var c=1;c<u.length;c++)b(u=M(u,c)),u=y(u,c)}d/=Math.pow(10,f),v/=Math.pow(10,f),function(r,a){!function(r,a){if(r.length>0){var u=document.createElement("table");u.classList.add("parameters-table__table");var c=document.createElement("thead"),i=document.createElement("tr");i.classList.add("parameters-table__header-row"),t(i,"№");for(var o=a?r[0].length:r[0].length+1,s=1;s<o;s++)t(i,"p".concat(s));a&&t(i,"Q"),c.append(i),u.append(c);var l=document.createElement("tbody");r.forEach((function(e,r){var t=document.createElement("tr");t.classList.add("parameters-table__row"),n(t,r),e.forEach((function(e,r){n(t,e)})),l.append(t)})),u.append(l),e.append(u)}}(r,a)}(h,l())}var S=document.querySelector(".js_parameters-form"),j=document.querySelector(".js_parameters-table"),q=document.querySelector(".js_errno-field");S.addEventListener("submit",(function(r){r.preventDefault(),function(r,t,n){!function(e,r){r.innerHTML="",e.innerHTML=""}(t,n),function(r){e=r}(n),a(t),performance.mark("начало"),L(r)&&(document.body.classList.add("calculate"),w(),document.body.classList.remove("calculate")),performance.mark("конец"),performance.measure("итого","начало","конец"),console.log(performance.getEntriesByName("итого")[0].duration),performance.clearMeasures(),performance.clearMarks()}(this,q,j)}))})();