(()=>{"use strict";var e,t,r,n,a=100,c=1;function o(e,t){t.innerHTML="",e.innerHTML=""}function u(e,t){var r=document.createElement("td");r.classList.add("parameters-table__header-item"),r.classList.add("parameters-table__item"),r.innerHTML=t,e.append(r)}function i(e,t){var r=document.createElement("td");r.classList.add("parameters-table__item"),r.innerHTML=t,e.append(r)}function s(r){console.log(r);var n=this;n.parentNode.querySelectorAll(".open").forEach((function(e){e.classList.remove("open")})),n.classList.add("open"),c=n.value,o(t,e),l()}function l(t){var n,o=(n=a*(c-1),A().slice(0+n,a+n));if(o.length>0){var l=document.createElement("table");l.classList.add("parameters-table__table"),e.append(l);var f=document.createElement("thead"),p=document.createElement("tr");p.classList.add("parameters-table__header-row"),u(p,"№");for(var d=t?o[0].length:o[0].length+1,m=1;m<d;m++)u(p,"p".concat(m));t&&u(p,"Q"),f.append(p),l.append(f);var v=document.createElement("tbody"),h=a*(c-1)+1;o.forEach((function(e,t){var r=document.createElement("tr");r.classList.add("parameters-table__row"),i(r,h+t),e.forEach((function(e,t){i(r,e)})),v.append(r)})),l.append(v);var g=e.parentNode,L=g.querySelector(".js_result-table-pagination"),_=g.querySelector(".js_this-page-info");if(L.innerHTML="",_.innerHTML="",r>1){for(var M=0;M<r;M++){var b=document.createElement("button");b.classList.add("result-table__pagination-item"),b.value=M+1,b.innerHTML=b.value,L.append(b),b.addEventListener("click",s)}_.innerHTML="Текущая страница ".concat(c," из ").concat(r)}}}function f(e){n=e}var p=[];function d(e){switch(e){case">":return 1;case"<":return 2;case">=":return 3;case"<=":return 4;default:return-1}}function m(e,t,r){switch(t){case 1:return e>r;case 2:return e<r;case 3:return e>=r;case 4:return e<=r}}var v=!0,h=[];function g(){return v}var L,_,M=3,b=1,y=.2,E=[],S=[],H=function(e){return e.toString().includes(".")?e.toString().split(".").pop().length:0};function T(e){return M=e.querySelector(".js_parametrs-number-input").value,y=e.querySelector(".js_parametrs-step-input").value,_=b/y,Number.isInteger(_)?function(e){if(p=[],e){e=e.split(", ");for(var t=0;t<e.length;t++){var r=e[t].split(" ");if(3!=r.length)return!1;for(var n=r[0].split(","),a=d(r[1]),c=r[2].split(","),o=0;o<n.length;o++)for(var u=0;u<c.length;u++){if(!(a&&n[o]>0&&c[u]>0))return!1;p.push([n[o]-1,a,c[u]-1])}}}return!0}(e.querySelector(".js_parametrs-filter-input").value)?!!function(e,t){if(v=!0,e){if((h=e.split(", ")).length!=t)return!1;for(var r=0;r<h.length;r++)if(!isFinite(h[r]))return!1}else v=!1;return!0}(e.querySelector(".js_parametrs-grade-input").value,M)||(n.innerHTML+="Введите пожалуйста корректную строку для вычисления оценки",!1):(n.innerHTML+="Введите пожалуйста корректную строку для фильтрации",!1):(function(e){n.innerHTML+="Введите пожалуйста шаг, которому кратна сумма ряда равная: ".concat(e)}(b),!1)}function q(e){var t=e.slice(0);S.push(t),function(e){for(var t=0;t<p.length;t++)if(!m(e[p[t][0]],p[t][1],e[p[t][2]]))return!1;return!0}(t)&&(g()&&(t=function(e){var t=e.slice(0);return t.push(function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]*h[r];return t}(t)),t}(t)),t=function(e){return e.map((function(e){return e/Math.pow(10,L)}))}(t),E.push(t))}function j(e,t){var r=e.slice(0);return r[0]-=y,r[t]+=y,r}function w(e,t){var r=e.slice(0);return r[0]+=y,r[t]-=y,r}function k(){var e;(e=H(y))<H(b)&&(e=H(b)),L=e,b*=Math.pow(10,L),y*=Math.pow(10,L);for(var t=[],r=0;r<M;r++)t[r]=0;t[0]=b,E=[],S=[],q(t)}function N(){k();for(var e=0;e<_;e++){console.log("проход генерации: ".concat(e+1," из ").concat(_,", \n\t\tколичество элементов массива генерации на этом этапе: ").concat(S.length));for(var t=S.length,n=0;n<t;n++){var o=S.shift();if(!(o[0]<=0))for(var u=1;u<o.length;u++)q(o=j(o,u)),o=w(o,u)}}b/=Math.pow(10,L),y/=Math.pow(10,L),function(e){!function(e){r=Math.ceil(e.length/a)}(A()),c=1,l(e)}(g())}function A(){return E}var B=document.querySelector(".js_parameters-form"),D=document.querySelector(".js_parameters-table"),F=document.querySelector(".js_errno-field");B.addEventListener("submit",(function(r){r.preventDefault(),function(r,n,a){o(n,a),function(t){e=t}(a),function(e){t=e}(n),f(n),performance.mark("начало"),T(r)&&(document.body.classList.add("calculate"),N(),document.body.classList.remove("calculate")),performance.mark("конец"),performance.measure("итого","начало","конец"),console.log(performance.getEntriesByName("итого")[0].duration),performance.clearMeasures(),performance.clearMarks()}(this,F,D)}))})();